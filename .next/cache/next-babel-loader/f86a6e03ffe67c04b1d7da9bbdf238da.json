{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\Lapakanik\\\\Asset\\\\FRONTEND\\\\frontpage\\\\src\\\\pages\\\\courses\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport courses from \"src/constants/api/courses\";\nimport Header from \"src/parts/Header\";\nimport Footer from \"src/parts/Footer\";\nimport ListCourses from \"src/parts/ListCourses\";\n\nfunction Courses(_ref) {\n  _s();\n\n  var _SearchResponse$data,\n      _SearchResponse$data2,\n      _SearchResponse$data3,\n      _this = this;\n\n  var data = _ref.data;\n\n  var _useState = useState(function () {\n    return \"\";\n  }),\n      Search = _useState[0],\n      setSearch = _useState[1];\n\n  var _useState2 = useState(function () {\n    return false;\n  }),\n      SearchFocus = _useState2[0],\n      setSearchFocus = _useState2[1];\n\n  var _useState3 = useState(function () {\n    return {\n      isLoading: false,\n      isError: false,\n      data: []\n    };\n  }),\n      SearchResponse = _useState3[0],\n      setSearchResponse = _useState3[1];\n\n  var selectWrapper = useRef(null);\n\n  function clickOutside(event) {\n    if (selectWrapper && !selectWrapper.current.contains(event.target)) {\n      setSearch(\"\");\n    }\n  }\n\n  var timeoutSearch = useRef(null);\n\n  function handleSearch(e) {\n    e.persist();\n    setSearch(e.target.value);\n    clearTimeout(timeoutSearch.current);\n    timeoutSearch.current = setTimeout(function () {\n      setSearchResponse({\n        isLoading: true,\n        isError: false,\n        data: null\n      });\n      courses.all({\n        params: {\n          q: e.target.value\n        }\n      }).then(function (res) {\n        setSearchResponse({\n          isLoading: false,\n          isError: false,\n          data: res.data\n        });\n      })[\"catch\"](function (err) {\n        setSearchResponse({\n          isLoading: false,\n          isError: true,\n          data: null\n        });\n      });\n    }, 1000);\n  }\n\n  useEffect(function () {\n    window.addEventListener(\"mousedown\", clickOutside);\n    return function () {\n      window.removeEventListener(\"mousedown\", clickOutside);\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Micro | Courses\")), __jsx(\"section\", {\n    className: \"pt-10 z-30 relative\",\n    style: {\n      height: 360\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"absolute inset-0 z-0 w-full h-full bg-black opacity-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"meta-title absolute bottom-0 object-fill z-0 w-full flex justify-center items-center\",\n    style: {\n      marginBottom: \"-25px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"text-6xl text-center text-teal-500 font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Library\"), __jsx(\"h4\", {\n    className: \"text-lg text-center text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Jangan mau kalah update dengan yang lainnya. \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 60\n    }\n  }), \" Yuk ikuti perkembangan teknologi.\"), __jsx(\"div\", {\n    className: \"flex flex-col relative\",\n    ref: selectWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    id: \"q\",\n    type: \"text\",\n    onChange: handleSearch,\n    onFocus: function onFocus() {\n      return setSearchFocus(!SearchFocus);\n    },\n    onBlur: function onBlur() {\n      return setSearchFocus(!SearchFocus);\n    },\n    value: Search,\n    placeholder: SearchFocus ? \"Ketik minimal 3 karakter untuk mencari\" : \"Lagi nyari kelas apa?\",\n    className: \"bg-white focus:outline-none transition-all duration-200 focus:border-teal-500 border border-gray-600 px-4 py-3 w-full mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), Search.length >= 3 && __jsx(\"div\", {\n    className: \"flex flex-col absolute py-2 px-4 bg-white border border-gray-600 w-full\",\n    style: {\n      top: 75\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, SearchResponse.isLoading ? \"Loading...\" : __jsx(React.Fragment, null, SearchResponse.isError && \"Something is technically wrong\", ((_SearchResponse$data = SearchResponse.data) === null || _SearchResponse$data === void 0 ? void 0 : _SearchResponse$data.length) > 0 ? (_SearchResponse$data2 = SearchResponse.data) === null || _SearchResponse$data2 === void 0 ? void 0 : (_SearchResponse$data3 = _SearchResponse$data2.map) === null || _SearchResponse$data3 === void 0 ? void 0 : _SearchResponse$data3.call(_SearchResponse$data2, function (item, index) {\n    var _item$thumbnail, _item$name, _item$name2, _item$level;\n\n    return __jsx(\"div\", {\n      key: index,\n      className: \"flex items-center -mx-4 py-2 cursor-pointer hover:bg-gray-200 relative\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 31\n      }\n    }, __jsx(\"div\", {\n      className: \"w-auto px-4\",\n      style: {\n        width: 150\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, __jsx(\"img\", {\n      src: (_item$thumbnail = item === null || item === void 0 ? void 0 : item.thumbnail) !== null && _item$thumbnail !== void 0 ? _item$thumbnail : \"\",\n      alt: (_item$name = item === null || item === void 0 ? void 0 : item.name) !== null && _item$name !== void 0 ? _item$name : \"Course Name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 35\n      }\n    })), __jsx(\"div\", {\n      className: \"w-full px-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, __jsx(\"h6\", {\n      className: \"text-gray-900 text-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 35\n      }\n    }, (_item$name2 = item === null || item === void 0 ? void 0 : item.name) !== null && _item$name2 !== void 0 ? _item$name2 : \"Course Name\"), __jsx(\"p\", {\n      className: \"text-gray-600\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 35\n      }\n    }, (_item$level = item === null || item === void 0 ? void 0 : item.level) !== null && _item$level !== void 0 ? _item$level : \"level\"), __jsx(Link, {\n      href: \"/courses/[id]\",\n      as: \"/courses/\".concat(item.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 35\n      }\n    }, __jsx(\"a\", {\n      className: \"link-wrapped\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 37\n      }\n    }))));\n  }) : \"No course found\"))))), __jsx(\"div\", {\n    className: \"container px-4 mx-auto z-10 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }))), __jsx(\"section\", {\n    className: \"container px-4 mx-auto pt-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, __jsx(ListCourses, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  })), __jsx(\"section\", {\n    className: \"mt-24 bg-indigo-1000 py-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(Courses, \"bvVmvhJXH8ewWR/gtFfC2mdDqc4=\");\n\n_c = Courses;\nCourses.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var data;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return courses.all();\n\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            data: data.data\n          });\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee, null, [[0, 7]]);\n}));\nexport default Courses;\n\nvar _c;\n\n$RefreshReg$(_c, \"Courses\");","map":{"version":3,"sources":["D:/Lapakanik/Asset/FRONTEND/frontpage/src/pages/courses/index.js"],"names":["React","useEffect","useState","useRef","Head","Link","courses","Header","Footer","ListCourses","Courses","data","Search","setSearch","SearchFocus","setSearchFocus","isLoading","isError","SearchResponse","setSearchResponse","selectWrapper","clickOutside","event","current","contains","target","timeoutSearch","handleSearch","e","persist","value","clearTimeout","setTimeout","all","params","q","then","res","err","window","addEventListener","removeEventListener","height","marginBottom","length","top","map","item","index","width","thumbnail","name","level","id","getInitialProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;AAEA,SAASC,OAAT,OAA2B;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AACzB,kBAA4BT,QAAQ,CAAC;AAAA,WAAM,EAAN;AAAA,GAAD,CAApC;AAAA,MAAOU,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAAsCX,QAAQ,CAAC;AAAA,WAAM,KAAN;AAAA,GAAD,CAA9C;AAAA,MAAOY,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA4Cb,QAAQ,CAAC;AAAA,WAAO;AAC1Dc,MAAAA,SAAS,EAAE,KAD+C;AAE1DC,MAAAA,OAAO,EAAE,KAFiD;AAG1DN,MAAAA,IAAI,EAAE;AAHoD,KAAP;AAAA,GAAD,CAApD;AAAA,MAAOO,cAAP;AAAA,MAAuBC,iBAAvB;;AAMA,MAAMC,aAAa,GAAGjB,MAAM,CAAC,IAAD,CAA5B;;AAEA,WAASkB,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAIF,aAAa,IAAI,CAACA,aAAa,CAACG,OAAd,CAAsBC,QAAtB,CAA+BF,KAAK,CAACG,MAArC,CAAtB,EAAoE;AAClEZ,MAAAA,SAAS,CAAC,EAAD,CAAT;AACD;AACF;;AAED,MAAIa,aAAa,GAAGvB,MAAM,CAAC,IAAD,CAA1B;;AACA,WAASwB,YAAT,CAAsBC,CAAtB,EAAyB;AACvBA,IAAAA,CAAC,CAACC,OAAF;AACAhB,IAAAA,SAAS,CAACe,CAAC,CAACH,MAAF,CAASK,KAAV,CAAT;AACAC,IAAAA,YAAY,CAACL,aAAa,CAACH,OAAf,CAAZ;AACAG,IAAAA,aAAa,CAACH,OAAd,GAAwBS,UAAU,CAAC,YAAM;AACvCb,MAAAA,iBAAiB,CAAC;AAChBH,QAAAA,SAAS,EAAE,IADK;AAEhBC,QAAAA,OAAO,EAAE,KAFO;AAGhBN,QAAAA,IAAI,EAAE;AAHU,OAAD,CAAjB;AAKAL,MAAAA,OAAO,CACJ2B,GADH,CACO;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,CAAC,EAAEP,CAAC,CAACH,MAAF,CAASK;AAAd;AAAV,OADP,EAEGM,IAFH,CAEQ,UAACC,GAAD,EAAS;AACblB,QAAAA,iBAAiB,CAAC;AAChBH,UAAAA,SAAS,EAAE,KADK;AAEhBC,UAAAA,OAAO,EAAE,KAFO;AAGhBN,UAAAA,IAAI,EAAE0B,GAAG,CAAC1B;AAHM,SAAD,CAAjB;AAKD,OARH,WASS,UAAC2B,GAAD,EAAS;AACdnB,QAAAA,iBAAiB,CAAC;AAChBH,UAAAA,SAAS,EAAE,KADK;AAEhBC,UAAAA,OAAO,EAAE,IAFO;AAGhBN,UAAAA,IAAI,EAAE;AAHU,SAAD,CAAjB;AAKD,OAfH;AAgBD,KAtBiC,EAsB/B,IAtB+B,CAAlC;AAuBD;;AAEDV,EAAAA,SAAS,CAAC,YAAM;AACdsC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqCnB,YAArC;AACA,WAAO,YAAM;AACXkB,MAAAA,MAAM,CAACE,mBAAP,CAA2B,WAA3B,EAAwCpB,YAAxC;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;AAOA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,EAKE;AAAS,IAAA,SAAS,EAAC,qBAAnB;AAAyC,IAAA,KAAK,EAAE;AAAEqB,MAAAA,MAAM,EAAE;AAAV,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,wDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,SAAS,EAAC,sFADZ;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,kDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAIE;AAAI,IAAA,SAAS,EAAC,gCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAC+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD/C,uCAJF,EAQE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,GAAG,EAAEvB,aAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,EAAE,EAAC,GADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEO,YAHZ;AAIE,IAAA,OAAO,EAAE;AAAA,aAAMZ,cAAc,CAAC,CAACD,WAAF,CAApB;AAAA,KAJX;AAKE,IAAA,MAAM,EAAE;AAAA,aAAMC,cAAc,CAAC,CAACD,WAAF,CAApB;AAAA,KALV;AAME,IAAA,KAAK,EAAEF,MANT;AAOE,IAAA,WAAW,EACTE,WAAW,GACP,wCADO,GAEP,uBAVR;AAYE,IAAA,SAAS,EAAC,4HAZZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAeGF,MAAM,CAACgC,MAAP,IAAiB,CAAjB,IACC;AACE,IAAA,SAAS,EAAC,yEADZ;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG3B,cAAc,CAACF,SAAf,GACC,YADD,GAGC,4BACGE,cAAc,CAACD,OAAf,IACC,gCAFJ,EAGG,yBAAAC,cAAc,CAACP,IAAf,8EAAqBiC,MAArB,IAA8B,CAA9B,4BACG1B,cAAc,CAACP,IADlB,mFACG,sBAAqBmC,GADxB,0DACG,kDAA2B,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAAA;;AAC1C,WACE;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,SAAS,EAAC,wEAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AACE,MAAA,SAAS,EAAC,aADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AACE,MAAA,GAAG,qBAAEF,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEG,SAAR,6DAAqB,EAD1B;AAEE,MAAA,GAAG,gBAAEH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,IAAR,mDAAgB,aAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAJF,EAaE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACGJ,IADH,aACGA,IADH,uBACGA,IAAI,CAAEI,IADT,qDACiB,aADjB,CADF,EAIE;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACGJ,IADH,aACGA,IADH,uBACGA,IAAI,CAAEK,KADT,qDACkB,OADlB,CAJF,EAOE,MAAC,IAAD;AACE,MAAA,IAAI,EAAC,eADP;AAEE,MAAA,EAAE,qBAAcL,IAAI,CAACM,EAAnB,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAPF,CAbF,CADF;AA8BD,GA/BD,CADH,GAiCG,iBApCN,CAPJ,CAhBJ,CARF,CAJF,CAFF,EAkFE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlFF,CALF,EA4FE;AAAS,IAAA,SAAS,EAAC,8BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAa,IAAA,IAAI,EAAE1C,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5FF,EA+FE;AAAS,IAAA,SAAS,EAAC,4BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA/FF,CADF;AAqGD;;GA3JQD,O;;KAAAA,O;AA6JTA,OAAO,CAAC4C,eAAR,yEAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEHhD,OAAO,CAAC2B,GAAR,EAFG;;AAAA;AAEhBtB,UAAAA,IAFgB;AAAA,2CAIf;AAAEA,YAAAA,IAAI,EAAEA,IAAI,CAACA;AAAb,WAJe;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B;AAQA,eAAeD,OAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\n\nimport courses from \"src/constants/api/courses\";\n\nimport Header from \"src/parts/Header\";\nimport Footer from \"src/parts/Footer\";\nimport ListCourses from \"src/parts/ListCourses\";\n\nfunction Courses({ data }) {\n  const [Search, setSearch] = useState(() => \"\");\n  const [SearchFocus, setSearchFocus] = useState(() => false);\n  const [SearchResponse, setSearchResponse] = useState(() => ({\n    isLoading: false,\n    isError: false,\n    data: [],\n  }));\n\n  const selectWrapper = useRef(null);\n\n  function clickOutside(event) {\n    if (selectWrapper && !selectWrapper.current.contains(event.target)) {\n      setSearch(\"\");\n    }\n  }\n\n  let timeoutSearch = useRef(null);\n  function handleSearch(e) {\n    e.persist();\n    setSearch(e.target.value);\n    clearTimeout(timeoutSearch.current);\n    timeoutSearch.current = setTimeout(() => {\n      setSearchResponse({\n        isLoading: true,\n        isError: false,\n        data: null,\n      });\n      courses\n        .all({ params: { q: e.target.value } })\n        .then((res) => {\n          setSearchResponse({\n            isLoading: false,\n            isError: false,\n            data: res.data,\n          });\n        })\n        .catch((err) => {\n          setSearchResponse({\n            isLoading: false,\n            isError: true,\n            data: null,\n          });\n        });\n    }, 1000);\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousedown\", clickOutside);\n    return () => {\n      window.removeEventListener(\"mousedown\", clickOutside);\n    };\n  }, []);\n\n  return (\n    <>\n      <Head>\n        <title>Micro | Courses</title>\n      </Head>\n\n      <section className=\"pt-10 z-30 relative\" style={{ height: 360 }}>\n        <div className=\"absolute inset-0 z-0 w-full h-full bg-black opacity-75\"></div>\n        <div\n          className=\"meta-title absolute bottom-0 object-fill z-0 w-full flex justify-center items-center\"\n          style={{ marginBottom: \"-25px\" }}\n        >\n          <div className=\"px-4\">\n            <h3 className=\"text-6xl text-center text-teal-500 font-semibold\">\n              Library\n            </h3>\n            <h4 className=\"text-lg text-center text-white\">\n              Jangan mau kalah update dengan yang lainnya. <br /> Yuk ikuti\n              perkembangan teknologi.\n            </h4>\n            <div className=\"flex flex-col relative\" ref={selectWrapper}>\n              <input\n                id=\"q\"\n                type=\"text\"\n                onChange={handleSearch}\n                onFocus={() => setSearchFocus(!SearchFocus)}\n                onBlur={() => setSearchFocus(!SearchFocus)}\n                value={Search}\n                placeholder={\n                  SearchFocus\n                    ? \"Ketik minimal 3 karakter untuk mencari\"\n                    : \"Lagi nyari kelas apa?\"\n                }\n                className=\"bg-white focus:outline-none transition-all duration-200 focus:border-teal-500 border border-gray-600 px-4 py-3 w-full mt-6\"\n              />\n              {Search.length >= 3 && (\n                <div\n                  className=\"flex flex-col absolute py-2 px-4 bg-white border border-gray-600 w-full\"\n                  style={{ top: 75 }}\n                >\n                  {SearchResponse.isLoading ? (\n                    \"Loading...\"\n                  ) : (\n                    <>\n                      {SearchResponse.isError &&\n                        \"Something is technically wrong\"}\n                      {SearchResponse.data?.length > 0\n                        ? SearchResponse.data?.map?.((item, index) => {\n                            return (\n                              <div\n                                key={index}\n                                className=\"flex items-center -mx-4 py-2 cursor-pointer hover:bg-gray-200 relative\"\n                              >\n                                <div\n                                  className=\"w-auto px-4\"\n                                  style={{ width: 150 }}\n                                >\n                                  <img\n                                    src={item?.thumbnail ?? \"\"}\n                                    alt={item?.name ?? \"Course Name\"}\n                                  />\n                                </div>\n                                <div className=\"w-full px-4\">\n                                  <h6 className=\"text-gray-900 text-lg\">\n                                    {item?.name ?? \"Course Name\"}\n                                  </h6>\n                                  <p className=\"text-gray-600\">\n                                    {item?.level ?? \"level\"}\n                                  </p>\n                                  <Link\n                                    href=\"/courses/[id]\"\n                                    as={`/courses/${item.id}`}\n                                  >\n                                    <a className=\"link-wrapped\"></a>\n                                  </Link>\n                                </div>\n                              </div>\n                            );\n                          })\n                        : \"No course found\"}\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container px-4 mx-auto z-10 relative\">\n          <Header></Header>\n        </div>\n      </section>\n\n      <section className=\"container px-4 mx-auto pt-24\">\n        <ListCourses data={data}></ListCourses>\n      </section>\n      <section className=\"mt-24 bg-indigo-1000 py-12\">\n        <Footer></Footer>\n      </section>\n    </>\n  );\n}\n\nCourses.getInitialProps = async () => {\n  try {\n    const data = await courses.all();\n\n    return { data: data.data };\n  } catch (error) {}\n};\n\nexport default Courses;\n"]},"metadata":{},"sourceType":"module"}