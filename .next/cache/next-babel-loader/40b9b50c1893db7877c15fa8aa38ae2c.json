{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useRef, useState } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport Youtube from \"react-youtube\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Header from \"src/parts/Header\"; //public image files\n\nimport Nametag from \"public/images/icon-nametag.svg\";\nimport Playback from \"public/images/icon-playback.svg\";\nimport Certificate from \"public/images/icon-certificate.svg\";\nimport courses from \"src/constants/api/courses\";\nimport Feature from \"src/parts/Details/Feature\";\nimport CoursePhoto from \"src/parts/Details/CoursePhoto\";\nimport RenderPreview from \"src/parts/Details/RenderPreview\";\nimport HappyStudent from \"src/parts/Details/HappyStudent\";\nimport Footer from \"src/parts/Footer\";\nimport formatThousand from \"src/helpers/formatThousand\";\n\nfunction DetailsCourse({\n  data\n}) {\n  var _data$chapters, _data$chapters$, _data$chapters$$lesso, _data$chapters$$lesso2, _data$chapters2, _data$chapters2$, _data$chapters2$$less, _data$chapters2$$less2, _data$chapters3, _data$chapters3$, _data$chapters3$$less, _data$chapters3$$less2, _data$name, _data$total_student, _data$total_videos, _data$name2, _data$price, _data$description, _data$images, _data$images2, _data$images2$map, _data$chapters4, _data$mentor$profile, _data$mentor, _data$mentor2, _data$mentor$name, _data$mentor3, _data$mentor4, _data$reviews, _data$reviews$map;\n\n  console.log(data);\n  const footer = useRef(null);\n  const {\n    0: isSticky,\n    1: setisSticky\n  } = useState(() => true);\n  useEffect(() => {\n    const stickyOffsetTop = footer.current.getBoundingClientRect().top;\n\n    const stickyMetaToggler = () => {\n      setisSticky(stickyOffsetTop >= window.pageYOffset + window.innerHeight);\n    };\n\n    window.addEventListener(\"scroll\", stickyMetaToggler);\n    return () => {\n      window.removeEventListener(\"scroll\", stickyMetaToggler);\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Micro\")), __jsx(\"section\", {\n    className: \"px-4 pt-10 relative overflow-hidden\",\n    style: {\n      height: 660\n    }\n  }, (data === null || data === void 0 ? void 0 : (_data$chapters = data.chapters) === null || _data$chapters === void 0 ? void 0 : (_data$chapters$ = _data$chapters[0]) === null || _data$chapters$ === void 0 ? void 0 : (_data$chapters$$lesso = _data$chapters$.lessons) === null || _data$chapters$$lesso === void 0 ? void 0 : (_data$chapters$$lesso2 = _data$chapters$$lesso[0]) === null || _data$chapters$$lesso2 === void 0 ? void 0 : _data$chapters$$lesso2.video) && __jsx(\"div\", {\n    className: \"video-wrapper min-h-screen md:min-h-full\"\n  }, __jsx(Youtube, {\n    videoId: data === null || data === void 0 ? void 0 : (_data$chapters2 = data.chapters) === null || _data$chapters2 === void 0 ? void 0 : (_data$chapters2$ = _data$chapters2[0]) === null || _data$chapters2$ === void 0 ? void 0 : (_data$chapters2$$less = _data$chapters2$.lessons) === null || _data$chapters2$$less === void 0 ? void 0 : (_data$chapters2$$less2 = _data$chapters2$$less[0]) === null || _data$chapters2$$less2 === void 0 ? void 0 : _data$chapters2$$less2.video,\n    id: data === null || data === void 0 ? void 0 : (_data$chapters3 = data.chapters) === null || _data$chapters3 === void 0 ? void 0 : (_data$chapters3$ = _data$chapters3[0]) === null || _data$chapters3$ === void 0 ? void 0 : (_data$chapters3$$less = _data$chapters3$.lessons) === null || _data$chapters3$$less === void 0 ? void 0 : (_data$chapters3$$less2 = _data$chapters3$$less[0]) === null || _data$chapters3$$less2 === void 0 ? void 0 : _data$chapters3$$less2.video,\n    opts: {\n      playerVars: {\n        loop: 1,\n        mute: 1,\n        autoplay: 1,\n        controls: 0,\n        showinfo: 0\n      }\n    },\n    onEnd: event => {\n      event.target.playVideo();\n    }\n  })), __jsx(\"div\", {\n    className: \"absolute inset-0 z-0 w-full h-full bg-black opacity-75\"\n  }), __jsx(\"div\", {\n    className: \"meta-title absolute inset-0 object-fill z-0 w-full flex justify-center items-center\"\n  }, __jsx(\"div\", {\n    className: \"text-center\"\n  }, __jsx(\"h3\", {\n    className: \"text-lg text-white\"\n  }, \"Kelas Online: \"), __jsx(\"h4\", {\n    className: \"text-3xl md:text-6xl text-teal-500 font-semibold\"\n  }, (_data$name = data === null || data === void 0 ? void 0 : data.name) !== null && _data$name !== void 0 ? _data$name : \"Nama Kelas\"))), __jsx(\"div\", {\n    className: \"container mx-auto z-20 relative\"\n  }, __jsx(Header, null))), __jsx(\"section\", {\n    className: \"container mx-auto pt-24 relative\"\n  }, __jsx(\"div\", {\n    className: \"md:absolute top-0 w-full transform md:-translate-y-1/2\"\n  }, __jsx(\"div\", {\n    className: \"w-3/4 mx-auto\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-wrap justify-between\"\n  }, __jsx(Feature, {\n    data: {\n      icon: __jsx(Nametag, {\n        className: \"fill-teal-500\"\n      }),\n      meta: \"Student\",\n      value: (_data$total_student = data === null || data === void 0 ? void 0 : data.total_student) !== null && _data$total_student !== void 0 ? _data$total_student : 0\n    }\n  }), __jsx(Feature, {\n    data: {\n      icon: __jsx(Playback, {\n        className: \"fill-teal-500\"\n      }),\n      meta: \"Video\",\n      value: (_data$total_videos = data === null || data === void 0 ? void 0 : data.total_videos) !== null && _data$total_videos !== void 0 ? _data$total_videos : 0\n    }\n  }), __jsx(Feature, {\n    data: {\n      icon: __jsx(Certificate, {\n        className: \"fill-teal-500\"\n      }),\n      meta: \"Certificate\",\n      value: (data === null || data === void 0 ? void 0 : data.certificate) === 1 ? \"Tersedia\" : \"-\"\n    }\n  })))), __jsx(\"div\", null, __jsx(CSSTransition, {\n    in: isSticky,\n    timeout: 300,\n    classNames: \"meta-price\",\n    unmountOnExit: true\n  }, __jsx(\"div\", {\n    className: \"meta-price w-full bg-white z-10 left-0 md:py-3\"\n  }, __jsx(\"div\", {\n    className: \"w-full md:w-3/4 md:mx-auto\"\n  }, __jsx(\"div\", {\n    className: \"flex items-center\"\n  }, __jsx(\"div\", {\n    className: \"w-full ml-2 md:mx-auto\"\n  }, __jsx(\"h2\", {\n    className: \"text-gray-600 text-xs md:text-base\"\n  }, \"Nama Kelas\"), __jsx(\"h3\", {\n    className: \"text-base md:text-2xl text-gray-900\"\n  }, (_data$name2 = data === null || data === void 0 ? void 0 : data.name) !== null && _data$name2 !== void 0 ? _data$name2 : \"Nama Kelas\")), __jsx(\"h5\", {\n    className: \"text-base md:text-2xl text-teal-500 whitespace-no-wrap mr-4\"\n  }, (data === null || data === void 0 ? void 0 : data.type) === \"free\" ? \"Free\" : __jsx(\"span\", null, \"Rp \", formatThousand((_data$price = data === null || data === void 0 ? void 0 : data.price) !== null && _data$price !== void 0 ? _data$price : 0))), __jsx(\"a\", {\n    href: `${process.env.NEXT_PUBLIC_MEMBERPAGE_URL}/joined/${data.id}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"bg-orange-500 hover:bg-orange-400 transition-all duration-200 focus:outline-none shadow-inner text-white px-6 py-3 whitespace-no-wrap\"\n  }, (data === null || data === void 0 ? void 0 : data.type) === \"free\" ? \"Enroll Now\" : \"Buy Now\")))))), __jsx(\"div\", {\n    className: \"w-3/4 mx-auto mt-8\"\n  }, __jsx(\"div\", {\n    className: \"w-full md:w-3/4\"\n  }, __jsx(\"section\", null, __jsx(\"h6\", {\n    className: \"font-medium text-gray-900 text-2xl mb-4\"\n  }, \"About \", __jsx(\"span\", {\n    className: \"text-teal-500\"\n  }, \"Coures\")), __jsx(\"p\", {\n    className: \"text-gray-600 text-base md:text-lg leading-relaxed mb-3\"\n  }, (_data$description = data === null || data === void 0 ? void 0 : data.description) !== null && _data$description !== void 0 ? _data$description : \"No Description Found\")), __jsx(\"section\", {\n    className: \"mt-10\"\n  }, __jsx(\"h6\", {\n    className: \"font-medium text-gray-900 text-2xl mb-4\"\n  }, \"Course \", __jsx(\"span\", {\n    className: \"text-teal-500\"\n  }, \"Photos\")), __jsx(\"div\", {\n    className: \"flex flex-wrap justify-start items-center -mx-4 mt-6\"\n  }, (data === null || data === void 0 ? void 0 : (_data$images = data.images) === null || _data$images === void 0 ? void 0 : _data$images.length) > 0 ? data === null || data === void 0 ? void 0 : (_data$images2 = data.images) === null || _data$images2 === void 0 ? void 0 : (_data$images2$map = _data$images2.map) === null || _data$images2$map === void 0 ? void 0 : _data$images2$map.call(_data$images2, (photo, index) => __jsx(CoursePhoto, {\n    data: photo.image,\n    key: index\n  })) : __jsx(\"div\", {\n    className: \"w-full text-center py-12\"\n  }, \"No Item Found\"))), __jsx(\"section\", {\n    className: \"mt-10\"\n  }, __jsx(\"h6\", {\n    className: \"font-medium text-gray-900 text-2xl mb-4\"\n  }, \"You Will \", __jsx(\"span\", {\n    className: \"text-teal-500\"\n  }, \"Learn\")), (data === null || data === void 0 ? void 0 : (_data$chapters4 = data.chapters) === null || _data$chapters4 === void 0 ? void 0 : _data$chapters4.length) > 0 ? __jsx(RenderPreview, {\n    previews: data.chapters\n  }) : __jsx(\"div\", {\n    className: \"w-full text-center py-12\"\n  }, \"No Chapter Found\")), __jsx(\"section\", {\n    className: \"mt-10 w-full md:w-2/3\"\n  }, __jsx(\"h6\", {\n    className: \"font-medium text-gray-900 text-2xl mb-4\"\n  }, \"Our \", __jsx(\"span\", {\n    className: \"text-teal-500\"\n  }, \"Instructor\")), __jsx(\"div\", {\n    className: \"flex items-center\"\n  }, __jsx(\"img\", {\n    src: (_data$mentor$profile = data === null || data === void 0 ? void 0 : (_data$mentor = data.mentor) === null || _data$mentor === void 0 ? void 0 : _data$mentor.profile) !== null && _data$mentor$profile !== void 0 ? _data$mentor$profile : \"\",\n    alt: data === null || data === void 0 ? void 0 : (_data$mentor2 = data.mentor) === null || _data$mentor2 === void 0 ? void 0 : _data$mentor2.name,\n    className: \"w-20 h-20 rounded-full overflow-hidden object-cover\"\n  }), __jsx(\"div\", {\n    className: \"ml-4\"\n  }, __jsx(\"h2\", {\n    className: \"text-lg text-gray-900\"\n  }, (_data$mentor$name = data === null || data === void 0 ? void 0 : (_data$mentor3 = data.mentor) === null || _data$mentor3 === void 0 ? void 0 : _data$mentor3.name) !== null && _data$mentor$name !== void 0 ? _data$mentor$name : \"Mentor's name\"), __jsx(\"h3\", {\n    className: \"text-sm text-gray-60\"\n  }, data === null || data === void 0 ? void 0 : (_data$mentor4 = data.mentor) === null || _data$mentor4 === void 0 ? void 0 : _data$mentor4.profession)))), __jsx(\"section\", {\n    className: \"mt-10 w-full md:w-6/12\"\n  }, __jsx(\"h6\", {\n    className: \"font-medium text-gray-900 text-2xl mb-4\"\n  }, \"Happy \", __jsx(\"span\", {\n    className: \"text-teal-500\"\n  }, \"Students\")), (_data$reviews = data.reviews) === null || _data$reviews === void 0 ? void 0 : (_data$reviews$map = _data$reviews.map) === null || _data$reviews$map === void 0 ? void 0 : _data$reviews$map.call(_data$reviews, (testimonial, index) => {\n    return __jsx(HappyStudent, {\n      key: index,\n      data: testimonial\n    });\n  }))))), __jsx(\"section\", {\n    className: \"mt-24 bg-indigo-1000 py-12\",\n    ref: footer\n  }, __jsx(Footer, null)));\n}\n\nDetailsCourse.getInitialProps = async props => {\n  const {\n    id\n  } = props.query;\n\n  try {\n    const data = await courses.details(id);\n    return {\n      data\n    };\n  } catch (error) {}\n};\n\nexport default DetailsCourse;","map":null,"metadata":{},"sourceType":"module"}